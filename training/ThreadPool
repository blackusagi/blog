from multiprocessing.pool import ThreadPool
import requests
import time

start_url = ['https://www.qiushibaike.com/8hr/page/2/',
             'https://www.qiushibaike.com/8hr/page/3/',
             'https://www.qiushibaike.com/8hr/page/4/',
             'https://www.qiushibaike.com/8hr/page/5/',
             ]


def parse_url(url):
    response = requests.get(url)
    if response.status_code == 200:
        time.sleep(1)
        print(response.text)
        return response.text
    else:
        return


def main():
    pool = ThreadPool(4)
    pool.map_async(parse_url, start_url)
    pool.close()
    pool.join()


if __name__ == '__main__':
    main()
